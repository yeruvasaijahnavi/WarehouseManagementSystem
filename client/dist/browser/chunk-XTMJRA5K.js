import{a as V}from"./chunk-LAF7HK6A.js";import{I as x,J as F,K as L,L as I,M as N,N as D,O as G,o as E,s as O,t as T,y as W,z as R}from"./chunk-THIE4GUI.js";import{b as A,c as B,d as P,e as k,f as H,g as q,i as U,j as z,k as J,m as K,n as Q}from"./chunk-35DERIXT.js";import"./chunk-KEDPSKOD.js";import{h as j}from"./chunk-WM7ALVV2.js";import{Jb as e,Kb as n,Lb as g,Nc as w,Sb as b,Ub as _,Uc as v,Ya as o,ba as S,dc as r,ec as y,hc as p,ib as f,ic as c,jc as d,na as m,oa as s,pb as h,zb as M}from"./chunk-ECNHR75B.js";import"./chunk-4CLCTAJ7.js";function X(a,Y){if(a&1&&(e(0,"c-alert",24),m(),e(1,"svg",25),g(2,"use",26),n(),s(),e(3,"div"),r(4),n()()),a&2){let l=_();o(4),y(l.errorMessage)}}var ge=(()=>{class a{constructor(){this.registerObj={username:"",email:"",password:"",role:"",name:""},this.errorMessage="",this.authService=S(V),this.router=S(j)}onSubmit(){this.authService.signup(this.registerObj).subscribe({next:l=>{alert("Account created successfully!"),this.router.navigate(["/login"])},error:l=>{this.errorMessage=l.error?.message||"An error occurred during registration."},complete:()=>{console.log("Registration request successful")}})}static{this.\u0275fac=function(C){return new(C||a)}}static{this.\u0275cmp=f({type:a,selectors:[["app-register"]],decls:41,vars:6,consts:[[1,"bg-light","dark:bg-transparent","min-vh-100","d-flex","flex-row","align-items-center"],[1,"justify-content-center"],["lg","7","md","9","xl","6"],[1,"mx-4"],[1,"p-4"],["cForm","",3,"ngSubmit"],[1,"text-body-secondary"],["color","danger","class","d-flex align-items-center",4,"ngIf"],[1,"mb-3"],["cInputGroupText",""],["cIcon","","name","cilUser"],["autoComplete","name","cFormControl","","name","name","placeholder","Full Name",3,"ngModelChange","ngModel"],["autoComplete","name","cFormControl","","name","username","placeholder","Username",3,"ngModelChange","ngModel"],["autoComplete","email","cFormControl","","name","email","placeholder","Email",3,"ngModelChange","ngModel"],["cIcon","","name","cilLockLocked"],["autoComplete","new-password","cFormControl","","name","password","placeholder","Password","type","password",3,"ngModelChange","ngModel"],[1,"mb-4"],["cIcon","","name","cilSettings"],["cFormControl","","name","role","required","",3,"ngModelChange","ngModel"],["value","","disabled",""],["value","admin"],["value","staff"],[1,"d-grid"],["cButton","","color","success","type","submit"],["color","danger",1,"d-flex","align-items-center"],["width","24","height","24","role","img","aria-label","Error:",1,"bi","flex-shrink-0","me-2"],[0,"xlink","href","#exclamation-triangle-fill"]],template:function(C,i){C&1&&(e(0,"div",0)(1,"c-container")(2,"c-row",1)(3,"c-col",2)(4,"c-card",3)(5,"c-card-body",4)(6,"form",5),b("ngSubmit",function(){return i.onSubmit()}),e(7,"h1"),r(8,"Register"),n(),e(9,"p",6),r(10," Create your account "),n(),h(11,X,5,1,"c-alert",7),e(12,"c-input-group",8)(13,"span",9),m(),g(14,"svg",10),n(),s(),e(15,"input",11),d("ngModelChange",function(t){return c(i.registerObj.name,t)||(i.registerObj.name=t),t}),n()(),e(16,"c-input-group",8)(17,"span",9),m(),g(18,"svg",10),n(),s(),e(19,"input",12),d("ngModelChange",function(t){return c(i.registerObj.username,t)||(i.registerObj.username=t),t}),n()(),e(20,"c-input-group",8)(21,"span",9),r(22,"@"),n(),e(23,"input",13),d("ngModelChange",function(t){return c(i.registerObj.email,t)||(i.registerObj.email=t),t}),n()(),e(24,"c-input-group",8)(25,"span",9),m(),g(26,"svg",14),n(),s(),e(27,"input",15),d("ngModelChange",function(t){return c(i.registerObj.password,t)||(i.registerObj.password=t),t}),n()(),e(28,"c-input-group",16)(29,"span",9),m(),g(30,"svg",17),n(),s(),e(31,"select",18),d("ngModelChange",function(t){return c(i.registerObj.role,t)||(i.registerObj.role=t),t}),e(32,"option",19),r(33," Select a role "),n(),e(34,"option",20),r(35,"Admin"),n(),e(36,"option",21),r(37,"Staff"),n()()(),e(38,"div",22)(39,"button",23),r(40," Create Account "),n()()()()()()()()()),C&2&&(o(11),M("ngIf",i.errorMessage),o(4),p("ngModel",i.registerObj.name),o(4),p("ngModel",i.registerObj.username),o(4),p("ngModel",i.registerObj.email),o(4),p("ngModel",i.registerObj.password),o(4),p("ngModel",i.registerObj.role))},dependencies:[N,G,D,W,R,x,F,I,E,L,O,Q,q,z,J,A,U,B,P,K,H,k,v,w,T],encapsulation:2})}}return a})();export{ge as RegisterComponent};
