import{a as V,b as W,c as U,e as q,g as k,h as B,i as N,q as T,r as L}from"./chunk-BFC4QIYG.js";import{a as P}from"./chunk-Q33LRWQI.js";import{f as b,h as E}from"./chunk-WXVBONAT.js";import"./chunk-KEDPSKOD.js";import{Jb as i,Kb as o,Oc as w,Pb as I,Sb as x,Ub as l,Vc as S,Ya as c,ba as u,dc as C,ec as m,fc as h,ib as v,ic as p,jc as y,kc as g,la as d,ma as s,pb as _,sc as M,zb as f}from"./chunk-55627RH7.js";import"./chunk-4CLCTAJ7.js";function D(a,F){if(a&1){let t=I();i(0,"div",2)(1,"h2",3),m(2,"Update Inventory Item"),o(),i(3,"form",4),x("ngSubmit",function(){d(t);let e=l();return s(e.updateInventoryItem())}),i(4,"div",5)(5,"input",6),g("ngModelChange",function(e){d(t);let n=l();return y(n.inventoryItem.name,e)||(n.inventoryItem.name=e),s(e)}),o(),i(6,"label",7),m(7,"Name"),o()(),i(8,"div",5)(9,"input",8),g("ngModelChange",function(e){d(t);let n=l();return y(n.inventoryItem.category,e)||(n.inventoryItem.category=e),s(e)}),o(),i(10,"label",9),m(11,"Category"),o()(),i(12,"div",10)(13,"input",11),g("ngModelChange",function(e){d(t);let n=l();return y(n.inventoryItem.description,e)||(n.inventoryItem.description=e),s(e)}),o(),i(14,"label",12),m(15,"Description"),o()(),i(16,"div",13)(17,"input",14),g("ngModelChange",function(e){d(t);let n=l();return y(n.inventoryItem.quantity,e)||(n.inventoryItem.quantity=e),s(e)}),o(),i(18,"label",15),m(19,"Quantity"),o()(),i(20,"div",13)(21,"input",16),g("ngModelChange",function(e){d(t);let n=l();return y(n.inventoryItem.price,e)||(n.inventoryItem.price=e),s(e)}),o(),i(22,"label",17),m(23,"Price"),o()(),i(24,"div",13)(25,"input",18),g("ngModelChange",function(e){d(t);let n=l();return y(n.inventoryItem.location,e)||(n.inventoryItem.location=e),s(e)}),o(),i(26,"label",19),m(27,"Location"),o()(),i(28,"div",20)(29,"button",21),m(30,"Update"),o()()()()}if(a&2){let t=l();c(5),p("ngModel",t.inventoryItem.name),c(4),p("ngModel",t.inventoryItem.category),c(4),p("ngModel",t.inventoryItem.description),c(4),p("ngModel",t.inventoryItem.quantity),c(4),p("ngModel",t.inventoryItem.price),c(4),p("ngModel",t.inventoryItem.location)}}function R(a,F){if(a&1&&(i(0,"p",22),m(1),o()),a&2){let t=l();c(),h(t.errorMessage)}}var X=(()=>{class a{constructor(){this.inventoryItem={},this.errorMessage="",this.sku=null,this.inventoryService=u(P),this.router=u(E),this.route=u(b)}ngOnInit(){this.route.paramMap.subscribe(t=>{this.sku=t.get("sku"),this.sku?this.loadItemBySku(this.sku):this.errorMessage="No SKU provided"})}loadItemBySku(t){this.inventoryService.getInventoryItemBySKU(t).subscribe(r=>{this.inventoryItem=r},r=>{console.error("Error loading item:",r),this.errorMessage="Failed to load the item."})}updateInventoryItem(){this.sku&&this.inventoryService.updateInventoryItem(this.sku,this.inventoryItem).subscribe({next:t=>{console.log("Item updated successfully:",t),this.router.navigate(["/inventory"])},error:t=>{console.error("Error updating item:",t),this.errorMessage="Failed to update the item."}})}static{this.\u0275fac=function(r){return new(r||a)}}static{this.\u0275cmp=v({type:a,selectors:[["app-inventory-update"]],decls:3,vars:2,consts:[["errorBlock",""],["class","container mt-4",4,"ngIf","ngIfElse"],[1,"container","mt-4"],[1,"mb-4"],[1,"row","g-3",3,"ngSubmit"],[1,"col-md-6","form-floating"],["id","name","type","text","name","name","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","name"],["id","category","type","text","name","category","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","category"],[1,"col-12","form-floating"],["id","description","type","text","name","description","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","description"],[1,"col-md-4","form-floating"],["id","quantity","type","number","name","quantity","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","quantity"],["id","price","type","number","name","price","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","price"],["id","location","type","text","name","location","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","location"],[1,"col-12"],["type","submit",1,"btn","btn-primary"],[1,"error","text-danger","mt-3"]],template:function(r,e){if(r&1&&_(0,D,31,6,"div",1)(1,R,2,1,"ng-template",null,0,M),r&2){let n=C(2);f("ngIf",e.inventoryItem)("ngIfElse",n)}},dependencies:[S,w,L,B,V,N,W,U,T,k,q],encapsulation:2})}}return a})();export{X as InventoryUpdateComponent};
